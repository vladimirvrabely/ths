/*! https://github.com/leeoniya/uPlot (v1.6.32) */
var uPlot=function(){"use strict";function l(l,e,t,n){let i;t=t||0;let o=2147483647>=(n=n||e.length-1);for(;n-t>1;)i=o?t+n>>1:b((t+n)/2),l>e[i]?t=i:n=i;return l-e[t]>e[n]-l?n:t}function e(l){return(e,t,n)=>{let i=-1,o=-1;for(let o=t;n>=o;o++)if(l(e[o])){i=o;break}for(let i=n;i>=t;i--)if(l(e[i])){o=i;break}return[i,o]}}const t=l=>null!=l,n=l=>null!=l&&l>0,i=e(t),o=e(n);function s(l,e,t,n){2==t&&(n=!0);let i=T(l),o=T(e);l==e&&(-1==i?(l*=t,e/=t):(l/=t,e*=t));let s=10==t?E:z,r=1==i?b:k,u=1==o?k:b,a=s(_(l)),f=s(_(e)),c=r(a),h=u(f),d=S(t,c),p=S(t,h);return 10==t&&(0>c&&(d=B(d,-c)),0>h&&(p=B(p,-h))),n?(l=d*i,e=p*o):(l=V(l,S(t,b(a)),!1),e=j(e,S(t,b(f)),!1)),[l,e]}function r(l,e,t,n){let i=s(l,e,t,n);return 0==l&&(i[0]=0),0==e&&(i[1]=0),i}const u=.1,a={mode:3,pad:u},f={pad:0,soft:null,mode:0},c={min:f,max:f};function h(l,e,t,n){return el(t)?p(l,e,t):(f.pad=t,f.soft=n?0:null,f.mode=n?3:0,p(l,e,c))}function d(l,e){return null==l?e:l}function p(l,e,t){let n=t.min,i=t.max,o=d(n.pad,0),s=d(i.pad,0),r=d(n.hard,-P),u=d(i.hard,P),a=d(n.soft,P),f=d(i.soft,-P),c=d(n.mode,0),h=d(i.mode,0),p=e-l,m=E(p),g=M(_(l),_(e)),x=E(g),w=_(x-m);(1e-24>p||w>10)&&(p=0,0!=l&&0!=e||(p=1e-24,2==c&&a!=P&&(o=0),2==h&&f!=-P&&(s=0)));let v=p||g||1e3,k=E(v),T=S(10,b(k)),z=B(V(l-v*(0==p?0==l?.1:1:o),T/10),24),D=a>l||1!=c&&(3!=c||z>a)&&(2!=c||a>z)?P:a,A=M(r,D>z&&l>=D?D:y(D,z)),W=B(j(e+v*(0==p?0==e?.1:1:s),T/10),24),R=e>f||1!=h&&(3!=h||f>W)&&(2!=h||W>f)?-P:f,Y=y(u,W>R&&R>=e?R:M(R,W));return A==Y&&0==A&&(Y=100),[A,Y]}const m=new Intl.NumberFormat,g=l=>m.format(l),x=Math,w=x.PI,_=x.abs,b=x.floor,v=x.round,k=x.ceil,y=x.min,M=x.max,S=x.pow,T=x.sign,E=x.log10,z=x.log2,D=(l,e=1)=>x.asinh(l/e),P=1/0;function A(l){return 1+(0|E((l^l>>31)-(l>>31)))}function W(l,e,t){return y(M(l,e),t)}function R(l){return"function"==typeof l}function Y(l){return R(l)?l:()=>l}const C=l=>l,H=(l,e)=>e,F=()=>null,G=()=>!0,I=(l,e)=>l==e,L=/\.\d*?(?=9{6,}|0{6,})/gm,O=l=>{if(Q(l)||U.has(l))return l;const e=""+l,t=e.match(L);if(null==t)return l;let n=t[0].length-1;if(-1!=e.indexOf("e-")){let[l,t]=e.split("e");return+`${O(l)}e${t}`}return B(l,n)};function N(l,e,t=!0){return t?O(B(O(l/e))*e):B(l/e)*e}function j(l,e,t=!0){return t?O(k(O(l/e))*e):k(l/e)*e}function V(l,e,t=!0){return t?O(b(O(l/e))*e):b(l/e)*e}function B(l,e=0){if(Q(l))return l;let t=10**e;return v(l*t*(1+Number.EPSILON))/t}const U=new Map;function $(l){return((""+l).split(".")[1]||"").length}function J(l,e,t,n){let i=[],o=n.map($);for(let s=e;t>s;s++){let e=_(s),t=B(S(l,s),e);for(let r=0;n.length>r;r++){let u=10==l?+`${n[r]}e${s}`:n[r]*t,a=(0>s?e:0)+(o[r]>s?o[r]:0),f=10==l?u:B(u,a);i.push(f),U.set(f,a)}}return i}const q={},K=[],X=[null,null],Z=Array.isArray,Q=Number.isInteger;function ll(l){return"string"==typeof l}function el(l){let e=!1;if(null!=l){let t=l.constructor;e=null==t||t==Object}return e}function tl(l){return null!=l&&"object"==typeof l}const nl=Object.getPrototypeOf(Uint8Array),il="__proto__";function ol(l,e=el){let t;if(Z(l)){let n=l.find((l=>null!=l));if(Z(n)||e(n)){t=Array(l.length);for(let n=0;l.length>n;n++)t[n]=ol(l[n],e)}else t=l.slice()}else if(l instanceof nl)t=l.slice();else if(e(l)){t={};for(let n in l)n!=il&&(t[n]=ol(l[n],e))}else t=l;return t}function sl(l){let e=arguments;for(let t=1;e.length>t;t++){let n=e[t];for(let e in n)e!=il&&(el(l[e])?sl(l[e],ol(n[e])):l[e]=ol(n[e]))}return l}function rl(l,e,t){for(let n,i=0,o=-1;e.length>i;i++){let s=e[i];if(s>o){for(n=s-1;n>=0&&null==l[n];)l[n--]=null;for(n=s+1;t>n&&null==l[n];)l[o=n++]=null}}}const ul="undefined"==typeof queueMicrotask?l=>Promise.resolve().then(l):queueMicrotask,al="width",fl="height",cl="top",hl="bottom",dl="left",pl="right",ml="#000",gl=ml+"0",xl="mousemove",wl="mousedown",_l="mouseup",bl="mouseenter",vl="mouseleave",kl="dblclick",yl="change",Ml="dppxchange",Sl="--",Tl="u-off",El="u-label",zl="undefined"!=typeof window,Dl=zl?document:null,Pl=zl?window:null;let Al,Wl;function Rl(l,e){if(null!=e){let t=l.classList;!t.contains(e)&&t.add(e)}}function Yl(l,e){let t=l.classList;t.contains(e)&&t.remove(e)}function Cl(l,e,t){l.style[e]=t+"px"}function Hl(l,e,t,n){let i=Dl.createElement(l);return null!=e&&Rl(i,e),null!=t&&t.insertBefore(i,n),i}function Fl(l,e){return Hl("div",l,e)}const Gl=new WeakMap;function Il(l,e,t,n,i){let o="translate("+e+"px,"+t+"px)";o!=Gl.get(l)&&(l.style.transform=o,Gl.set(l,o),0>e||0>t||e>n||t>i?Rl(l,Tl):Yl(l,Tl))}const Ll=new WeakMap;function Ol(l,e,t){let n=e+t;n!=Ll.get(l)&&(Ll.set(l,n),l.style.background=e,l.style.borderColor=t)}const Nl=new WeakMap;function jl(l,e,t,n){let i=e+""+t;i!=Nl.get(l)&&(Nl.set(l,i),l.style.height=t+"px",l.style.width=e+"px",l.style.marginLeft=n?-e/2+"px":0,l.style.marginTop=n?-t/2+"px":0)}const Vl={passive:!0},Bl={...Vl,capture:!0};function Ul(l,e,t,n){e.addEventListener(l,t,n?Bl:Vl)}function $l(l,e,t){e.removeEventListener(l,t,Vl)}zl&&function l(){let e=devicePixelRatio;Al!=e&&(Al=e,Wl&&$l(yl,Wl,l),Wl=matchMedia(`(min-resolution: ${Al-.001}dppx) and (max-resolution: ${Al+.001}dppx)`),Ul(yl,Wl,l),Pl.dispatchEvent(new CustomEvent(Ml)))}();const Jl=["January","February","March","April","May","June","July","August","September","October","November","December"],ql=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function Kl(l){return l.slice(0,3)}const Xl=ql.map(Kl),Zl=Jl.map(Kl),Ql={MMMM:Jl,MMM:Zl,WWWW:ql,WWW:Xl};function le(l){return(10>l?"0":"")+l}const ee={YYYY:l=>l.getFullYear(),YY:l=>(l.getFullYear()+"").slice(2),MMMM:(l,e)=>e.MMMM[l.getMonth()],MMM:(l,e)=>e.MMM[l.getMonth()],MM:l=>le(l.getMonth()+1),M:l=>l.getMonth()+1,DD:l=>le(l.getDate()),D:l=>l.getDate(),WWWW:(l,e)=>e.WWWW[l.getDay()],WWW:(l,e)=>e.WWW[l.getDay()],HH:l=>le(l.getHours()),H:l=>l.getHours(),h:l=>{let e=l.getHours();return 0==e?12:e>12?e-12:e},AA:l=>12>l.getHours()?"AM":"PM",aa:l=>12>l.getHours()?"am":"pm",a:l=>12>l.getHours()?"a":"p",mm:l=>le(l.getMinutes()),m:l=>l.getMinutes(),ss:l=>le(l.getSeconds()),s:l=>l.getSeconds(),fff:l=>function(l){return(10>l?"00":100>l?"0":"")+l}(l.getMilliseconds())};function te(l,e){e=e||Ql;let t,n=[],i=/\{([a-z]+)\}|[^{]+/gi;for(;t=i.exec(l);)n.push("{"==t[0][0]?ee[t[1]]:t[0]);return l=>{let t="";for(let i=0;n.length>i;i++)t+="string"==typeof n[i]?n[i]:n[i](l,e);return t}}const ne=(new Intl.DateTimeFormat).resolvedOptions().timeZone,ie=l=>l%1==0,oe=[1,2,2.5,5],se=J(10,-32,0,oe),re=J(10,0,32,oe),ue=re.filter(ie),ae=se.concat(re),fe="{YYYY}",ce="\n"+fe,he="{M}/{D}",de="\n"+he,pe=de+"/{YY}",me="{aa}",ge="{h}:{mm}"+me,xe="\n"+ge,we=":{ss}",_e=null;function be(l){let e=1e3*l,t=60*e,n=60*t,i=24*n,o=30*i,s=365*i;return[(1==l?J(10,0,3,oe).filter(ie):J(10,-3,0,oe)).concat([e,5*e,10*e,15*e,30*e,t,5*t,10*t,15*t,30*t,n,2*n,3*n,4*n,6*n,8*n,12*n,i,2*i,3*i,4*i,5*i,6*i,7*i,8*i,9*i,10*i,15*i,o,2*o,3*o,4*o,6*o,s,2*s,5*s,10*s,25*s,50*s,100*s]),[[s,fe,_e,_e,_e,_e,_e,_e,1],[28*i,"{MMM}",ce,_e,_e,_e,_e,_e,1],[i,he,ce,_e,_e,_e,_e,_e,1],[n,"{h}"+me,pe,_e,de,_e,_e,_e,1],[t,ge,pe,_e,de,_e,_e,_e,1],[e,we,pe+" "+ge,_e,de+" "+ge,_e,xe,_e,1],[l,we+".{fff}",pe+" "+ge,_e,de+" "+ge,_e,xe,_e,1]],function(e){return(r,u,a,f,c,h)=>{let d=[],p=c>=s,m=c>=o&&s>c,g=e(a),x=B(g*l,3),w=De(g.getFullYear(),p?0:g.getMonth(),m||p?1:g.getDate()),_=B(w*l,3);if(m||p){let t=m?c/o:0,n=p?c/s:0,i=x==_?x:B(De(w.getFullYear()+n,w.getMonth()+t,1)*l,3),r=new Date(v(i/l)),u=r.getFullYear(),a=r.getMonth();for(let o=0;f>=i;o++){let s=De(u+n*o,a+t*o,1),r=s-e(B(s*l,3));i=B((+s+r)*l,3),i>f||d.push(i)}}else{let o=i>c?c:i,s=_+(b(a)-b(x))+j(x-_,o);d.push(s);let p=e(s),m=p.getHours()+p.getMinutes()/t+p.getSeconds()/n,g=c/n,w=h/r.axes[u]._space;for(;s=B(s+c,1==l?0:3),f>=s;)if(g>1){let l=b(B(m+g,6))%24,t=e(s).getHours()-l;t>1&&(t=-1),s-=t*n,m=(m+g)%24,.7>B((s-d[d.length-1])/c,3)*w||d.push(s)}else d.push(s)}return d}}]}const[ve,ke,ye]=be(1),[Me,Se,Te]=be(.001);function Ee(l,e){return l.map((l=>l.map(((t,n)=>0==n||8==n||null==t?t:e(1==n||0==l[8]?t:l[1]+t)))))}function ze(l,e){return(t,n,i,o,s)=>{let r,u,a,f,c,h,d=e.find((l=>s>=l[0]))||e[e.length-1];return n.map((e=>{let t=l(e),n=t.getFullYear(),i=t.getMonth(),o=t.getDate(),s=t.getHours(),p=t.getMinutes(),m=t.getSeconds(),g=n!=r&&d[2]||i!=u&&d[3]||o!=a&&d[4]||s!=f&&d[5]||p!=c&&d[6]||m!=h&&d[7]||d[1];return r=n,u=i,a=o,f=s,c=p,h=m,g(t)}))}}function De(l,e,t){return new Date(l,e,t)}function Pe(l,e){return e(l)}function Ae(l,e){return(t,n,i,o)=>null==o?Sl:e(l(n))}J(2,-53,53,[1]);const We={show:!0,live:!0,isolate:!1,mount:()=>{},markers:{show:!0,width:2,stroke:function(l,e){let t=l.series[e];return t.width?t.stroke(l,e):t.points.width?t.points.stroke(l,e):null},fill:function(l,e){return l.series[e].fill(l,e)},dash:"solid"},idx:null,idxs:null,values:[]},Re=[0,0];function Ye(l,e,t,n=!0){return l=>{0==l.button&&(!n||l.target==e)&&t(l)}}function Ce(l,e,t,n=!0){return l=>{(!n||l.target==e)&&t(l)}}const He={show:!0,x:!0,y:!0,lock:!1,move:function(l,e,t){return Re[0]=e,Re[1]=t,Re},points:{one:!1,show:function(l,e){let t=l.cursor.points,n=Fl(),i=t.size(l,e);Cl(n,al,i),Cl(n,fl,i);let o=i/-2;Cl(n,"marginLeft",o),Cl(n,"marginTop",o);let s=t.width(l,e,i);return s&&Cl(n,"borderWidth",s),n},size:function(l,e){return l.series[e].points.size},width:0,stroke:function(l,e){let t=l.series[e].points;return t._stroke||t._fill},fill:function(l,e){let t=l.series[e].points;return t._fill||t._stroke}},bind:{mousedown:Ye,mouseup:Ye,click:Ye,dblclick:Ye,mousemove:Ce,mouseleave:Ce,mouseenter:Ce},drag:{setScale:!0,x:!0,y:!1,dist:0,uni:null,click:(l,e)=>{e.stopPropagation(),e.stopImmediatePropagation()},_x:!1,_y:!1},focus:{dist:(l,e,t,n,i)=>n-i,prox:-1,bias:0},hover:{skip:[void 0],prox:null,bias:0},left:-10,top:-10,idx:null,dataIdx:null,idxs:null,event:null},Fe={show:!0,stroke:"rgba(0,0,0,0.07)",width:2},Ge=sl({},Fe,{filter:H}),Ie=sl({},Ge,{size:10}),Le=sl({},Fe,{show:!1}),Oe='12px system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',Ne="bold "+Oe,je={show:!0,scale:"x",stroke:ml,space:50,gap:5,alignTo:1,size:50,labelGap:0,labelSize:30,labelFont:Ne,side:2,grid:Ge,ticks:Ie,border:Le,font:Oe,lineGap:1.5,rotate:0},Ve={show:!0,scale:"x",auto:!1,sorted:1,min:P,max:-P,idxs:[]};function Be(l,e){return e.map((l=>null==l?"":g(l)))}function Ue(l,e,t,n,i,o,s){let r=[],u=U.get(i)||0;for(let l=t=s?t:B(j(t,i),u);n>=l;l=B(l+i,u))r.push(Object.is(l,-0)?0:l);return r}function $e(e,t,n,i,o){const s=[],r=e.scales[e.axes[t].scale].log,u=b((10==r?E:z)(n));o=S(r,u),10==r&&(o=ae[l(o,ae)]);let a=n,f=o*r;10==r&&(f=ae[l(f,ae)]);do{s.push(a),a+=o,10!=r||U.has(a)||(a=B(a,U.get(o))),f>a||(f=(o=a)*r,10==r&&(f=ae[l(f,ae)]))}while(i>=a);return s}function Je(l,e,t,n,i){let o=l.scales[l.axes[e].scale].asinh,s=n>o?$e(l,e,M(o,t),n,i):[o],r=0>n||t>0?[]:[0];return(-o>t?$e(l,e,M(o,-n),-t,i):[o]).reverse().map((l=>-l)).concat(r,s)}const qe=/./,Ke=/[12357]/,Xe=/[125]/,Ze=/1/,Qe=(l,e,t,n)=>l.map(((l,i)=>4==e&&0==l||i%n==0&&t.test(l.toExponential()[0>l?1:0])?l:null));function lt(l,e,t){let n=l.axes[t],i=n.scale,o=l.scales[i],s=l.valToPos,r=n._space,u=s(10,i),a=s(9,i)-u<r?s(7,i)-u<r?s(5,i)-u<r?Ze:Xe:Ke:qe;if(a==Ze){let l=_(s(1,i)-u);if(r>l)return Qe(e.slice().reverse(),o.distr,a,k(r/l)).reverse()}return Qe(e,o.distr,a,1)}function et(l,e,t){let n=l.axes[t],i=n.scale,o=n._space,s=l.valToPos,r=_(s(1,i)-s(2,i));return o>r?Qe(e.slice().reverse(),3,qe,k(o/r)).reverse():e}function tt(l,e,t,n){return null==n?Sl:null==e?"":g(e)}const nt={show:!0,scale:"y",stroke:ml,space:30,gap:5,alignTo:1,size:50,labelGap:0,labelSize:30,labelFont:Ne,side:3,grid:Ge,ticks:Ie,border:Le,font:Oe,lineGap:1.5,rotate:0},it={scale:null,auto:!0,sorted:0,min:P,max:-P},ot=(l,e,t,n,i)=>i,st={show:!0,auto:!0,sorted:0,gaps:ot,alpha:1,facets:[sl({},it,{scale:"x"}),sl({},it,{scale:"y"})]},rt={scale:"y",auto:!0,sorted:0,show:!0,spanGaps:!1,gaps:ot,alpha:1,points:{show:function(l,e){let{scale:t,idxs:n}=l.series[0],i=l._data[0],o=l.valToPos(i[n[0]],t,!0),s=l.valToPos(i[n[1]],t,!0);return _(s-o)/(l.series[e].points.space*l.pxRatio)>=n[1]-n[0]},filter:null},values:null,min:P,max:-P,idxs:[],path:null,clip:null};function ut(l,e,t){return t/10}const at={time:!0,auto:!0,distr:1,log:10,asinh:1,min:null,max:null,dir:1,ori:0},ft=sl({},at,{time:!1,ori:1}),ct={};function ht(l){let e=ct[l];return e||(e={key:l,plots:[],sub(l){e.plots.push(l)},unsub(l){e.plots=e.plots.filter((e=>e!=l))},pub(l,t,n,i,o,s,r){for(let u=0;e.plots.length>u;u++)e.plots[u]!=t&&e.plots[u].pub(l,t,n,i,o,s,r)}},null!=l&&(ct[l]=e)),e}function dt(l,e,t){const n=l.mode,i=l.series[e],o=2==n?l._data[e]:l._data,s=l.scales,r=l.bbox;let u=o[0],a=2==n?o[1]:o[e],f=2==n?s[i.facets[0].scale]:s[l.series[0].scale],c=2==n?s[i.facets[1].scale]:s[i.scale],h=r.left,d=r.top,p=r.width,m=r.height,g=l.valToPosH,x=l.valToPosV;return 0==f.ori?t(i,u,a,f,c,g,x,h,d,p,m,vt,yt,St,Et,Dt):t(i,u,a,f,c,x,g,d,h,m,p,kt,Mt,Tt,zt,Pt)}function pt(l,e){let t=0,n=0,i=d(l.bands,K);for(let l=0;i.length>l;l++){let o=i[l];o.series[0]==e?t=o.dir:o.series[1]==e&&(n|=1==o.dir?1:2)}return[t,1==n?-1:2==n?1:3==n?2:0]}function mt(l,e,t,n,i){let o=l.series[e],s=l.scales[2==l.mode?o.facets[1].scale:o.scale];return-1==i?s.min:1==i?s.max:3==s.distr?1==s.dir?s.min:s.max:0}function gt(l,e,t,n,i,o){return dt(l,e,((l,e,s,r,u,a,f,c,h,d,p)=>{let m=l.pxRound;const g=0==r.ori?yt:Mt;let x,w;1==r.dir*(0==r.ori?1:-1)?(x=t,w=n):(x=n,w=t);let _=m(a(e[x],r,d,c)),b=m(f(s[x],u,p,h)),v=m(a(e[w],r,d,c)),k=m(f(1==o?u.max:u.min,u,p,h)),y=new Path2D(i);return g(y,v,k),g(y,_,k),g(y,_,b),y}))}function xt(l,e,t,n,i,o){let s=null;if(l.length>0){s=new Path2D;const r=0==e?St:Tt;let u=t;for(let e=0;l.length>e;e++){let t=l[e];if(t[1]>t[0]){let l=t[0]-u;l>0&&r(s,u,n,l,n+o),u=t[1]}}let a=t+i-u,f=10;a>0&&r(s,u,n-f/2,a,n+o+f)}return s}function wt(l,e,t,n,i,o,s){let r=[],u=l.length;for(let a=1==i?t:n;a>=t&&n>=a;a+=i)if(null===e[a]){let f=a,c=a;if(1==i)for(;++a<=n&&null===e[a];)c=a;else for(;--a>=t&&null===e[a];)c=a;let h=o(l[f]),d=c==f?h:o(l[c]),p=f-i;h=s>0||0>p||p>=u?h:o(l[p]);let m=c+i;d=0>s||0>m||m>=u?d:o(l[m]),h>d||r.push([h,d])}return r}function _t(l){return 0==l?C:1==l?v:e=>N(e,l)}function bt(l){let e=0==l?vt:kt,t=0==l?(l,e,t,n,i,o)=>{l.arcTo(e,t,n,i,o)}:(l,e,t,n,i,o)=>{l.arcTo(t,e,i,n,o)},n=0==l?(l,e,t,n,i)=>{l.rect(e,t,n,i)}:(l,e,t,n,i)=>{l.rect(t,e,i,n)};return(l,i,o,s,r,u=0,a=0)=>{0==u&&0==a?n(l,i,o,s,r):(u=y(u,s/2,r/2),a=y(a,s/2,r/2),e(l,i+u,o),t(l,i+s,o,i+s,o+r,u),t(l,i+s,o+r,i,o+r,a),t(l,i,o+r,i,o,a),t(l,i,o,i+s,o,u),l.closePath())}}const vt=(l,e,t)=>{l.moveTo(e,t)},kt=(l,e,t)=>{l.moveTo(t,e)},yt=(l,e,t)=>{l.lineTo(e,t)},Mt=(l,e,t)=>{l.lineTo(t,e)},St=bt(0),Tt=bt(1),Et=(l,e,t,n,i,o)=>{l.arc(e,t,n,i,o)},zt=(l,e,t,n,i,o)=>{l.arc(t,e,n,i,o)},Dt=(l,e,t,n,i,o,s)=>{l.bezierCurveTo(e,t,n,i,o,s)},Pt=(l,e,t,n,i,o,s)=>{l.bezierCurveTo(t,e,i,n,s,o)};function At(){return(l,e,t,n,i)=>{let{pxRatio:o}=l;return dt(l,e,((e,s,r,u,a,f,c,h,d,p,m)=>{let g,x,{pxRound:_,points:b}=e;0==u.ori?(g=vt,x=Et):(g=kt,x=zt);const v=B(b.width*o,3);let k=(b.size-b.width)/2*o,y=B(2*k,3),M=new Path2D,S=new Path2D,{left:T,top:E,width:z,height:D}=l.bbox;St(S,T-y,E-y,z+2*y,D+2*y);const P=l=>{if(null!=r[l]){let e=_(f(s[l],u,p,h)),t=_(c(r[l],a,m,d));g(M,e+k,t),x(M,e,t,k,0,2*w)}};if(i)i.forEach(P);else for(let l=t;n>=l;l++)P(l);return{stroke:v>0?M:null,fill:M,clip:S,flags:3}}))}}function Wt(l){return(e,t,n,i,o,s)=>{n!=i&&(o!=n&&s!=n&&l(e,t,n),o!=i&&s!=i&&l(e,t,i),l(e,t,s))}}const Rt=Wt(yt),Yt=Wt(Mt);function Ct(l){const e=d(l?.alignGaps,0);return(l,t,n,o)=>dt(l,t,((s,r,u,a,f,c,h,d,p,m,g)=>{[n,o]=i(u,n,o);let x,w,_=s.pxRound,b=l=>_(c(l,a,m,d)),v=l=>_(h(l,f,g,p));0==a.ori?(x=yt,w=Rt):(x=Mt,w=Yt);const k=a.dir*(0==a.ori?1:-1),y={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:1},M=y.stroke;let S=!1;if(o-n<4*m)for(let l=1==k?n:o;l>=n&&o>=l;l+=k){let e=u[l];null===e?S=!0:null!=e&&x(M,b(r[l]),v(e))}else{let e,t,i,s=e=>l.posToVal(e,a.key,!0),f=null,c=null,h=b(r[1==k?n:o]),d=b(r[n]),p=b(r[o]),m=s(1==k?d+1:p-1);for(let l=1==k?n:o;l>=n&&o>=l;l+=k){let n=r[l],i=(1==k?m>n:n>m)?h:b(n),o=u[l];i==h?null!=o?(t=o,null==f?(x(M,i,v(t)),e=f=c=t):f>t?f=t:t>c&&(c=t)):null===o&&(S=!0):(null!=f&&w(M,h,v(f),v(c),v(e),v(t)),null!=o?(t=o,x(M,i,v(t)),f=c=e=t):(f=c=null,null===o&&(S=!0)),h=i,m=s(h+k))}null!=f&&f!=c&&i!=h&&w(M,h,v(f),v(c),v(e),v(t))}let[T,E]=pt(l,t);if(null!=s.fill||0!=T){let e=y.fill=new Path2D(M),i=v(s.fillTo(l,t,s.min,s.max,T)),u=b(r[n]),a=b(r[o]);-1==k&&([a,u]=[u,a]),x(e,a,i),x(e,u,i)}if(!s.spanGaps){let i=[];S&&i.push(...wt(r,u,n,o,k,b,e)),y.gaps=i=s.gaps(l,t,n,o,i),y.clip=xt(i,a.ori,d,p,m,g)}return 0!=E&&(y.band=2==E?[gt(l,t,n,o,M,-1),gt(l,t,n,o,M,1)]:gt(l,t,n,o,M,E)),y}))}function Ht(l,e,t,n,i,o,s=P){if(l.length>1){let r=null;for(let u=0,a=1/0;l.length>u;u++)if(void 0!==e[u]){if(null!=r){let e=_(l[u]-l[r]);a>e&&(a=e,s=_(t(l[u],n,i,o)-t(l[r],n,i,o)))}r=u}}return s}function Ft(l,e,t,n,i){const o=l.length;if(2>o)return null;const s=new Path2D;if(t(s,l[0],e[0]),2==o)n(s,l[1],e[1]);else{let t=Array(o),n=Array(o-1),r=Array(o-1),u=Array(o-1);for(let t=0;o-1>t;t++)r[t]=e[t+1]-e[t],u[t]=l[t+1]-l[t],n[t]=r[t]/u[t];t[0]=n[0];for(let l=1;o-1>l;l++)0===n[l]||0===n[l-1]||n[l-1]>0!=n[l]>0?t[l]=0:(t[l]=3*(u[l-1]+u[l])/((2*u[l]+u[l-1])/n[l-1]+(u[l]+2*u[l-1])/n[l]),isFinite(t[l])||(t[l]=0));t[o-1]=n[o-2];for(let n=0;o-1>n;n++)i(s,l[n]+u[n]/3,e[n]+t[n]*u[n]/3,l[n+1]-u[n]/3,e[n+1]-t[n+1]*u[n]/3,l[n+1],e[n+1])}return s}const Gt=new Set;function It(){for(let l of Gt)l.syncRect(!0)}zl&&(Ul("resize",Pl,It),Ul("scroll",Pl,It,!0),Ul(Ml,Pl,(()=>{Qt.pxRatio=Al})));const Lt=Ct(),Ot=At();function Nt(l,e,t,n){return(n?[l[0],l[1]].concat(l.slice(2)):[l[0]].concat(l.slice(1))).map(((l,n)=>jt(l,n,e,t)))}function jt(l,e,t,n){return sl({},0==e?t:n,l)}function Vt(l,e,t){return null==e?X:[e,t]}const Bt=Vt;function Ut(l,e,t){return null==e?X:h(e,t,u,!0)}function $t(l,e,t,n){return null==e?X:s(e,t,l.scales[n].log,!0)}const Jt=$t;function qt(l,e,t,n){return null==e?X:r(e,t,l.scales[n].log,!0)}const Kt=qt;function Xt(e,t,n,i,o){let s=M(A(e),A(t)),r=t-e,u=l(o/i*r,n);do{let l=n[u],e=i*l/r;if(e>=o&&17>=s+(5>l?U.get(l):0))return[l,e]}while(++u<n.length);return[0,0]}function Zt(l,e){let t,n;return[l=l.replace(/(\d+)px/,((l,i)=>(t=v((n=+i)*e))+"px")),t,n]}function Qt(e,f,c){let p=e.pxRatio??Al;function m(l){p=g.pxRatio=l??Al,yl.forEach((l=>function(l,e){l.show&&[l.font,l.labelFont].forEach((l=>{let t=B(l[2]*e,1);l[0]=l[0].replace(/[0-9.]+px/,t+"px"),l[1]=t}))}(l,p))),yt(g.width,g.height,!0)}const g={mode:d(e.mode,1),pxRatio:p,setPxRatio:m};g.setPxRatio=m;const b=g.mode;function T(l,e,t,n){let i=e.valToPct(l);return n+t*(-1==e.dir?1-i:i)}function z(l,e,t,n){let i=e.valToPct(l);return n+t*(-1==e.dir?i:1-i)}function A(l,e,t,n){return 0==e.ori?T(l,e,t,n):z(l,e,t,n)}g.valToPosH=T,g.valToPosV=z;let C=!1;g.status=0;const L=g.root=Fl("uplot");null!=e.id&&(L.id=e.id),Rl(L,e.class),e.title&&(Fl("u-title",L).textContent=e.title);const O=Hl("canvas"),j=g.ctx=O.getContext("2d"),V=Fl("u-wrap",L);Ul("click",V,(l=>{l.target===Q&&(jn!=In||Vn!=Ln)&&Qn.click(g,l)}),!0);const J=g.under=Fl("u-under",V);V.appendChild(O);const Q=g.over=Fl("u-over",V),nl=+d((e=ol(e)).pxAlign,1),il=_t(nl);(e.plugins||[]).forEach((l=>{l.opts&&(e=l.opts(g,e)||e)}));const rl=e.ms||.001,ml=g.series=1==b?Nt(e.series||[],Ve,rt,!1):function(l,e){return l.map(((l,t)=>0==t?{}:sl({},e,l)))}(e.series||[null],st),yl=g.axes=Nt(e.axes||[],je,nt,!0),zl=g.scales={},Wl=g.bands=e.bands||[];Wl.forEach((l=>{l.fill=Y(l.fill||null),l.dir=d(l.dir,-1)}));const Gl=2==b?ml[1].facets[0].scale:ml[0].scale,Ll={axes:function(){for(let l=0;yl.length>l;l++){let e=yl[l];if(!e.show||!e._show)continue;let t,n,i=e.side,o=i%2,s=e.stroke(g,l),r=0==i||3==i?-1:1,[u,a]=e._found;if(null!=e.label){let f=v((e._lpos+e.labelGap*r)*p);bn(e.labelFont[0],s,"center",2==i?cl:hl),j.save(),1==o?(t=n=0,j.translate(f,v(ct+pt/2)),j.rotate((3==i?-w:w)/2)):(t=v(ot+dt/2),n=f);let c=R(e.label)?e.label(g,l,u,a):e.label;j.fillText(c,t,n),j.restore()}if(0==a)continue;let f=zl[e.scale],c=0==o?dt:pt,h=0==o?ot:ct,d=e._splits,m=2==f.distr?d.map((l=>mn[l])):d,x=2==f.distr?mn[d[1]]-mn[d[0]]:u,_=e.ticks,b=e.border,k=_.show?_.size:0,y=v(k*p),M=v((2==e.alignTo?e._size-k-e.gap:e.gap)*p),S=e._rotate*-w/180,T=il(e._pos*p),E=T+(y+M)*r;n=0==o?E:0,t=1==o?E:0,bn(e.font[0],s,1==e.align?dl:2==e.align?pl:S>0?dl:0>S?pl:0==o?"center":3==i?pl:dl,S||1==o?"middle":2==i?cl:hl);let z=e.font[1]*e.lineGap,D=d.map((l=>il(A(l,f,c,h)))),P=e._values;for(let l=0;P.length>l;l++){let e=P[l];if(null!=e){0==o?t=D[l]:n=D[l],e=""+e;let i=-1==e.indexOf("\n")?[e]:e.split(/\n/gm);for(let l=0;i.length>l;l++){let e=i[l];S?(j.save(),j.translate(t,n+l*z),j.rotate(S),j.fillText(e,0,0),j.restore()):j.fillText(e,t,n+l*z)}}}_.show&&Dn(D,_.filter(g,m,l,a,x),o,i,T,y,B(_.width*p,3),_.stroke(g,l),_.dash,_.cap);let W=e.grid;W.show&&Dn(D,W.filter(g,m,l,a,x),o,0==o?2:1,0==o?ct:ot,0==o?pt:dt,B(W.width*p,3),W.stroke(g,l),W.dash,W.cap),b.show&&Dn([T],[1],0==o?1:0,0==o?1:2,1==o?ct:ot,1==o?pt:dt,B(b.width*p,3),b.stroke(g,l),b.dash,b.cap)}Ci("drawAxes")},series:function(){if(ln>0){let l=ml.some((l=>l._focus))&&pn!=zt.alpha;l&&(j.globalAlpha=pn=zt.alpha),ml.forEach(((l,e)=>{if(e>0&&l.show&&(yn(e,!1),yn(e,!0),null==l._paths)){let t=pn;pn!=l.alpha&&(j.globalAlpha=pn=l.alpha);let n=2==b?[0,f[e][0].length-1]:function(l){let e=W(en-1,0,ln-1),t=W(tn+1,0,ln-1);for(;null==l[e]&&e>0;)e--;for(;null==l[t]&&ln-1>t;)t++;return[e,t]}(f[e]);l._paths=l.paths(g,e,n[0],n[1]),pn!=t&&(j.globalAlpha=pn=t)}})),ml.forEach(((l,e)=>{if(e>0&&l.show){let t=pn;pn!=l.alpha&&(j.globalAlpha=pn=l.alpha),null!=l._paths&&Mn(e,!1);{let t=null!=l._paths?l._paths.gaps:null,n=l.points.show(g,e,en,tn,t),i=l.points.filter(g,e,n,t);(n||i)&&(l.points._paths=l.points.paths(g,e,en,tn,i),Mn(e,!0))}pn!=t&&(j.globalAlpha=pn=t),Ci("drawSeries",e)}})),l&&(j.globalAlpha=pn=1)}}},Nl=(e.drawOrder||["axes","series"]).map((l=>Ll[l]));function Vl(l){const e=3==l.distr?e=>E(e>0?e:l.clamp(g,e,l.min,l.max,l.key)):4==l.distr?e=>D(e,l.asinh):100==l.distr?e=>l.fwd(e):l=>l;return t=>{let n=e(t),{_min:i,_max:o}=l;return(n-i)/(o-i)}}function Bl(l){let t=zl[l];if(null==t){let n=(e.scales||q)[l]||q;if(null!=n.from){Bl(n.from);let e=sl({},zl[n.from],n,{key:l});e.valToPct=Vl(e),zl[l]=e}else{t=zl[l]=sl({},l==Gl?at:ft,n),t.key=l;let e=t.time,i=t.range,o=Z(i);if((l!=Gl||2==b&&!e)&&(!o||null!=i[0]&&null!=i[1]||(i={min:null==i[0]?a:{mode:1,hard:i[0],soft:i[0]},max:null==i[1]?a:{mode:1,hard:i[1],soft:i[1]}},o=!1),!o&&el(i))){let l=i;i=(e,t,n)=>null==t?X:h(t,n,l)}t.range=Y(i||(e?Bt:l==Gl?3==t.distr?Jt:4==t.distr?Kt:Vt:3==t.distr?$t:4==t.distr?qt:Ut)),t.auto=Y(!o&&t.auto),t.clamp=Y(t.clamp||ut),t._min=t._max=null,t.valToPct=Vl(t)}}}Bl("x"),Bl("y"),1==b&&ml.forEach((l=>{Bl(l.scale)})),yl.forEach((l=>{Bl(l.scale)}));for(let l in e.scales)Bl(l);const Jl=zl[Gl],ql=Jl.distr;let Kl,Xl;0==Jl.ori?(Rl(L,"u-hz"),Kl=T,Xl=z):(Rl(L,"u-vt"),Kl=z,Xl=T);const Zl={};for(let l in zl){let e=zl[l];null==e.min&&null==e.max||(Zl[l]={min:e.min,max:e.max},e.min=e.max=null)}const Ql=e.tzDate||(l=>new Date(v(l/rl))),le=e.fmtDate||te,ee=1==rl?ye(Ql):Te(Ql),ne=ze(Ql,Ee(1==rl?ke:Se,le)),ie=Ae(Ql,Pe("{YYYY}-{MM}-{DD} {h}:{mm}{aa}",le)),oe=[],se=g.legend=sl({},We,e.legend),re=g.cursor=sl({},He,{drag:{y:2==b}},e.cursor),fe=se.show,ce=re.show,he=se.markers;let de,pe,me;se.idxs=oe,he.width=Y(he.width),he.dash=Y(he.dash),he.stroke=Y(he.stroke),he.fill=Y(he.fill);let ge,xe=[],we=[],_e=!1,be={};if(se.live){const l=ml[1]?ml[1].values:null;_e=null!=l,ge=_e?l(g,1,0):{_:0};for(let l in ge)be[l]=Sl}if(fe)if(de=Hl("table","u-legend",L),me=Hl("tbody",null,de),se.mount(g,de),_e){pe=Hl("thead",null,de,me);let l=Hl("tr",null,pe);for(var De in Hl("th",null,l),ge)Hl("th",El,l).textContent=De}else Rl(de,"u-inline"),se.live&&Rl(de,"u-live");const Re={show:!0},Ye={show:!1},Ce=new Map;function Fe(l,e,t,n=!0){const i=Ce.get(e)||{},o=re.bind[l](g,e,t,n);o&&(Ul(l,e,i[l]=o),Ce.set(e,i))}function Ge(l,e){const t=Ce.get(e)||{};for(let n in t)null!=l&&n!=l||($l(n,e,t[n]),delete t[n]);null==l&&Ce.delete(e)}let Ie=0,Le=0,Oe=0,Ne=0,qe=0,Ke=0,Xe=qe,Ze=Ke,Qe=Oe,it=Ne,ot=0,ct=0,dt=0,pt=0;g.bbox={};let gt=!1,xt=!1,wt=!1,bt=!1,vt=!1,kt=!1;function yt(l,e,t){(t||l!=g.width||e!=g.height)&&Mt(l,e),Wn(!1),wt=!0,xt=!0,qn()}function Mt(l,e){g.width=Ie=Oe=l,g.height=Le=Ne=e,qe=Ke=0,function(){let l=!1,e=!1,t=!1,n=!1;yl.forEach((i=>{if(i.show&&i._show){let{side:o,_size:s}=i,r=s+(null!=i.label?i.labelSize:0);r>0&&(o%2?(Oe-=r,3==o?(qe+=r,n=!0):t=!0):(Ne-=r,0==o?(Ke+=r,l=!0):e=!0))}})),Ht[0]=l,Ht[1]=t,Ht[2]=e,Ht[3]=n,Oe-=Qt[1]+Qt[3],qe+=Qt[3],Ne-=Qt[2]+Qt[0],Ke+=Qt[0]}(),function(){let l=qe+Oe,e=Ke+Ne,t=qe,n=Ke;function i(i,o){switch(i){case 1:return l+=o,l-o;case 2:return e+=o,e-o;case 3:return t-=o,t+o;case 0:return n-=o,n+o}}yl.forEach((l=>{if(l.show&&l._show){let e=l.side;l._pos=i(e,l._size),null!=l.label&&(l._lpos=i(e,l.labelSize))}}))}();let t=g.bbox;ot=t.left=N(qe*p,.5),ct=t.top=N(Ke*p,.5),dt=t.width=N(Oe*p,.5),pt=t.height=N(Ne*p,.5)}const St=3;if(g.setSize=function({width:l,height:e}){yt(l,e)},null==re.dataIdx){let l=re.hover,e=l.skip=new Set(l.skip??[]);e.add(void 0);let t=l.prox=Y(l.prox),n=l.bias??=0;re.dataIdx=(l,i,o,s)=>{if(0==i)return o;let r=o,u=t(l,i,o,s)??P,a=u>=0&&P>u,c=0==Jl.ori?Oe:Ne,h=re.left,d=f[0],p=f[i];if(e.has(p[o])){r=null;let l,t=null,i=null;if(0==n||-1==n)for(l=o;null==t&&l-- >0;)e.has(p[l])||(t=l);if(0==n||1==n)for(l=o;null==i&&l++<p.length;)e.has(p[l])||(i=l);if(null!=t||null!=i)if(a){let l=h-(null==t?-1/0:Kl(d[t],Jl,c,0)),e=(null==i?1/0:Kl(d[i],Jl,c,0))-h;l>e?e>u||(r=i):l>u||(r=t)}else r=null==i?t:null==t||o-t>i-o?i:t}else a&&_(h-Kl(d[o],Jl,c,0))>u&&(r=null);return r}}const Tt=l=>{re.event=l};re.idxs=oe,re._lock=!1;let Et=re.points;Et.show=Y(Et.show),Et.size=Y(Et.size),Et.stroke=Y(Et.stroke),Et.width=Y(Et.width),Et.fill=Y(Et.fill);const zt=g.focus=sl({},e.focus||{alpha:.3},re.focus),Dt=zt.prox>=0,Pt=Dt&&Et.one;let At=[],Wt=[],Rt=[];function Yt(l,e){let t=Et.show(g,e);if(t instanceof HTMLElement)return Rl(t,"u-cursor-pt"),Rl(t,l.class),Il(t,-10,-10,Oe,Ne),Q.insertBefore(t,At[e]),t}function Ct(l,e){if(1==b||e>0){let e=1==b&&zl[l.scale].time,t=l.value;l.value=e?ll(t)?Ae(Ql,Pe(t,le)):t||ie:t||tt,l.label=l.label||(e?"Time":"Value")}if(Pt||e>0){l.width=null==l.width?1:l.width,l.paths=l.paths||Lt||F,l.fillTo=Y(l.fillTo||mt),l.pxAlign=+d(l.pxAlign,nl),l.pxRound=_t(l.pxAlign),l.stroke=Y(l.stroke||null),l.fill=Y(l.fill||null),l._stroke=l._fill=l._paths=l._focus=null;let e=function(l){return B(1*(3+2*(l||1)),3)}(M(1,l.width)),t=l.points=sl({},{size:e,width:M(1,.2*e),stroke:l.stroke,space:2*e,paths:Ot,_stroke:null,_fill:null},l.points);t.show=Y(t.show),t.filter=Y(t.filter),t.fill=Y(t.fill),t.stroke=Y(t.stroke),t.paths=Y(t.paths),t.pxAlign=l.pxAlign}if(fe){let t=function(l,e){if(0==e&&(_e||!se.live||2==b))return X;let t=[],n=Hl("tr","u-series",me,me.childNodes[e]);Rl(n,l.class),l.show||Rl(n,Tl);let i=Hl("th",null,n);if(he.show){let l=Fl("u-marker",i);if(e>0){let t=he.width(g,e);t&&(l.style.border=t+"px "+he.dash(g,e)+" "+he.stroke(g,e)),l.style.background=he.fill(g,e)}}let o=Fl(El,i);for(var s in l.label instanceof HTMLElement?o.appendChild(l.label):o.textContent=l.label,e>0&&(he.show||(o.style.color=l.width>0?he.stroke(g,e):he.fill(g,e)),Fe("click",i,(e=>{if(re._lock)return;Tt(e);let t=ml.indexOf(l);if((e.ctrlKey||e.metaKey)!=se.isolate){let l=ml.some(((l,e)=>e>0&&e!=t&&l.show));ml.forEach(((e,n)=>{n>0&&si(n,l?n==t?Re:Ye:Re,!0,Fi.setSeries)}))}else si(t,{show:!l.show},!0,Fi.setSeries)}),!1),Dt&&Fe(bl,i,(e=>{re._lock||(Tt(e),si(ml.indexOf(l),fi,!0,Fi.setSeries))}),!1)),ge){let l=Hl("td","u-value",n);l.textContent="--",t.push(l)}return[n,t]}(l,e);xe.splice(e,0,t[0]),we.splice(e,0,t[1]),se.values.push(null)}if(ce){oe.splice(e,0,null);let t=null;Pt?0==e&&(t=Yt(l,e)):e>0&&(t=Yt(l,e)),At.splice(e,0,t),Wt.splice(e,0,0),Rt.splice(e,0,0)}Ci("addSeries",e)}g.addSeries=function(l,e){e=null==e?ml.length:e,l=1==b?jt(l,e,Ve,rt):jt(l,e,{},st),ml.splice(e,0,l),Ct(ml[e],e)},g.delSeries=function(l){if(ml.splice(l,1),fe){se.values.splice(l,1),we.splice(l,1);let e=xe.splice(l,1)[0];Ge(null,e.firstChild),e.remove()}ce&&(oe.splice(l,1),At.splice(l,1)[0].remove(),Wt.splice(l,1),Rt.splice(l,1)),Ci("delSeries",l)};const Ht=[!1,!1,!1,!1];function Ft(l,e,t){let[n,i,o,s]=t,r=e%2,u=0;return 0==r&&(s||i)&&(u=0==e&&!n||2==e&&!o?v(je.size/3):0),1==r&&(n||o)&&(u=1==e&&!i||3==e&&!s?v(nt.size/2):0),u}const It=g.padding=(e.padding||[Ft,Ft,Ft,Ft]).map((l=>Y(d(l,Ft)))),Qt=g._padding=It.map(((l,e)=>l(g,e,Ht,0)));let ln,en=null,tn=null;const nn=1==b?ml[0].idxs:null;let on,sn,rn,un,an,fn,cn,hn,dn,pn,mn=null,gn=!1;function xn(l,e){if(g.data=g._data=f=null==l?[]:l,2==b){ln=0;for(let l=1;ml.length>l;l++)ln+=f[l][0].length}else{0==f.length&&(g.data=g._data=f=[[]]),mn=f[0],ln=mn.length;let l=f;if(2==ql){l=f.slice();let e=l[0]=Array(ln);for(let l=0;ln>l;l++)e[l]=l}g._data=f=l}if(Wn(!0),Ci("setData"),2==ql&&(wt=!0),!1!==e){let l=Jl;l.auto(g,gn)?wn():oi(Gl,l.min,l.max),bt=bt||re.left>=0,kt=!0,qn()}}function wn(){let l,e;gn=!0,1==b&&(ln>0?(en=nn[0]=0,tn=nn[1]=ln-1,l=f[0][en],e=f[0][tn],2==ql?(l=en,e=tn):l==e&&(3==ql?[l,e]=s(l,l,Jl.log,!1):4==ql?[l,e]=r(l,l,Jl.log,!1):Jl.time?e=l+v(86400/rl):[l,e]=h(l,e,u,!0))):(en=nn[0]=l=null,tn=nn[1]=e=null)),oi(Gl,l,e)}function _n(l,e,t,n,i,o){l??=gl,t??=K,n??="butt",i??=gl,o??="round",l!=on&&(j.strokeStyle=on=l),i!=sn&&(j.fillStyle=sn=i),e!=rn&&(j.lineWidth=rn=e),o!=an&&(j.lineJoin=an=o),n!=fn&&(j.lineCap=fn=n),t!=un&&j.setLineDash(un=t)}function bn(l,e,t,n){e!=sn&&(j.fillStyle=sn=e),l!=cn&&(j.font=cn=l),t!=hn&&(j.textAlign=hn=t),n!=dn&&(j.textBaseline=dn=n)}function vn(l,e,s,r,u=0){if(r.length>0&&l.auto(g,gn)&&(null==e||null==e.min)){let e=d(en,0),a=d(tn,r.length-1),f=null==s.min?function(l,e,s,r=0,u=!1){let a=u?o:i,f=u?n:t;[e,s]=a(l,e,s);let c=l[e],h=l[e];if(e>-1)if(1==r)c=l[e],h=l[s];else if(-1==r)c=l[s],h=l[e];else for(let t=e;s>=t;t++){let e=l[t];f(e)&&(c>e?c=e:e>h&&(h=e))}return[c??P,h??-P]}(r,e,a,u,3==l.distr):[s.min,s.max];l.min=y(l.min,s.min=f[0]),l.max=M(l.max,s.max=f[1])}}g.setData=xn;const kn={min:null,max:null};function yn(l,e){let t=e?ml[l].points:ml[l];t._stroke=t.stroke(g,l),t._fill=t.fill(g,l)}function Mn(l,e){let t=e?ml[l].points:ml[l],{stroke:n,fill:i,clip:o,flags:s,_stroke:r=t._stroke,_fill:u=t._fill,_width:a=t.width}=t._paths;a=B(a*p,3);let c=null,h=a%2/2;e&&null==u&&(u=a>0?"#fff":r);let m=1==t.pxAlign&&h>0;if(m&&j.translate(h,h),!e){let l=ot-a/2,e=ct-a/2,t=dt+a,n=pt+a;c=new Path2D,c.rect(l,e,t,n)}e?Tn(r,a,t.dash,t.cap,u,n,i,s,o):function(l,e,t,n,i,o,s,r,u,a,c){let h=!1;0!=u&&Wl.forEach(((p,m)=>{if(p.series[0]==l){let l,x=ml[p.series[1]],w=f[p.series[1]],_=(x._paths||q).band;Z(_)&&(_=1==p.dir?_[0]:_[1]);let b=null;x.show&&_&&function(l,e,t){for(e=d(e,0),t=d(t,l.length-1);t>=e;){if(null!=l[e])return!0;e++}return!1}(w,en,tn)?(b=p.fill(g,m)||o,l=x._paths.clip):_=null,Tn(e,t,n,i,b,s,r,u,a,c,l,_),h=!0}})),h||Tn(e,t,n,i,o,s,r,u,a,c)}(l,r,a,t.dash,t.cap,u,n,i,s,c,o),m&&j.translate(-h,-h)}const Sn=3;function Tn(l,e,t,n,i,o,s,r,u,a,f,c){_n(l,e,t,n,i),(u||a||c)&&(j.save(),u&&j.clip(u),a&&j.clip(a)),c?(r&Sn)==Sn?(j.clip(c),f&&j.clip(f),zn(i,s),En(l,o,e)):2&r?(zn(i,s),j.clip(c),En(l,o,e)):1&r&&(j.save(),j.clip(c),f&&j.clip(f),zn(i,s),j.restore(),En(l,o,e)):(zn(i,s),En(l,o,e)),(u||a||c)&&j.restore()}function En(l,e,t){t>0&&(e instanceof Map?e.forEach(((l,e)=>{j.strokeStyle=on=e,j.stroke(l)})):null!=e&&l&&j.stroke(e))}function zn(l,e){e instanceof Map?e.forEach(((l,e)=>{j.fillStyle=sn=e,j.fill(l)})):null!=e&&l&&j.fill(e)}function Dn(l,e,t,n,i,o,s,r,u,a){let f=s%2/2;1==nl&&j.translate(f,f),_n(r,s,u,a,r),j.beginPath();let c,h,d,p,m=i+(0==n||3==n?-o:o);0==t?(h=i,p=m):(c=i,d=m);for(let n=0;l.length>n;n++)null!=e[n]&&(0==t?c=d=l[n]:h=p=l[n],j.moveTo(c,h),j.lineTo(d,p));j.stroke(),1==nl&&j.translate(-f,-f)}function Pn(l){let e=!0;return yl.forEach(((t,n)=>{if(!t.show)return;let i=zl[t.scale];if(null==i.min)return void(t._show&&(e=!1,t._show=!1,Wn(!1)));t._show||(e=!1,t._show=!0,Wn(!1));let o=t.side,s=o%2,{min:r,max:u}=i,[a,f]=function(l,e,t,n){let i,o=yl[l];if(n>0){let s=o._space=o.space(g,l,e,t,n);i=Xt(e,t,o._incrs=o.incrs(g,l,e,t,n,s),n,s)}else i=[0,0];return o._found=i}(n,r,u,0==s?Oe:Ne);if(0==f)return;let c=t._splits=t.splits(g,n,r,u,a,f,2==i.distr),h=2==i.distr?c.map((l=>mn[l])):c,d=2==i.distr?mn[c[1]]-mn[c[0]]:a,p=t._values=t.values(g,t.filter(g,h,n,f,d),n,f,d);t._rotate=2==o?t.rotate(g,p,n,f):0;let m=t._size;t._size=k(t.size(g,p,n,l)),null!=m&&t._size!=m&&(e=!1)})),e}function An(l){let e=!0;return It.forEach(((t,n)=>{let i=t(g,n,Ht,l);i!=Qt[n]&&(e=!1),Qt[n]=i})),e}function Wn(l){ml.forEach(((e,t)=>{t>0&&(e._paths=null,l&&(1==b?(e.min=null,e.max=null):e.facets.forEach((l=>{l.min=null,l.max=null}))))}))}let Rn,Yn,Cn,Hn,Fn,Gn,In,Ln,On,Nn,jn,Vn,Bn=!1,Un=!1,$n=[];function Jn(){Un=!1;for(let l=0;$n.length>l;l++)Ci(...$n[l]);$n.length=0}function qn(){Bn||(ul(Kn),Bn=!0)}function Kn(){if(gt&&(function(){for(let l in zl){let e=zl[l];null==Zl[l]&&(null==e.min||null!=Zl[Gl]&&e.auto(g,gn))&&(Zl[l]=kn)}for(let l in zl){let e=zl[l];null==Zl[l]&&null!=e.from&&null!=Zl[e.from]&&(Zl[l]=kn)}null!=Zl[Gl]&&Wn(!0);let e={};for(let l in Zl){let t=Zl[l];if(null!=t){let n=e[l]=ol(zl[l],tl);if(null!=t.min)sl(n,t);else if(l!=Gl||2==b)if(0==ln&&null==n.from){let e=n.range(g,null,null,l);n.min=e[0],n.max=e[1]}else n.min=P,n.max=-P}}if(ln>0){ml.forEach(((t,n)=>{if(1==b){let i=t.scale,o=Zl[i];if(null==o)return;let s=e[i];if(0==n){let e=s.range(g,s.min,s.max,i);s.min=e[0],s.max=e[1],en=l(s.min,f[0]),tn=l(s.max,f[0]),tn-en>1&&(s.min>f[0][en]&&en++,f[0][tn]>s.max&&tn--),t.min=mn[en],t.max=mn[tn]}else t.show&&t.auto&&vn(s,o,t,f[n],t.sorted);t.idxs[0]=en,t.idxs[1]=tn}else if(n>0&&t.show&&t.auto){let[l,i]=t.facets,o=l.scale,s=i.scale,[r,u]=f[n],a=e[o],c=e[s];null!=a&&vn(a,Zl[o],l,r,l.sorted),null!=c&&vn(c,Zl[s],i,u,i.sorted),t.min=i.min,t.max=i.max}}));for(let l in e){let t=e[l],n=Zl[l];if(null==t.from&&(null==n||null==n.min)){let e=t.range(g,t.min==P?null:t.min,t.max==-P?null:t.max,l);t.min=e[0],t.max=e[1]}}}for(let l in e){let t=e[l];if(null!=t.from){let n=e[t.from];if(null==n.min)t.min=t.max=null;else{let e=t.range(g,n.min,n.max,l);t.min=e[0],t.max=e[1]}}}let t={},n=!1;for(let l in e){let i=e[l],o=zl[l];if(o.min!=i.min||o.max!=i.max){o.min=i.min,o.max=i.max;let e=o.distr;o._min=3==e?E(o.min):4==e?D(o.min,o.asinh):100==e?o.fwd(o.min):o.min,o._max=3==e?E(o.max):4==e?D(o.max,o.asinh):100==e?o.fwd(o.max):o.max,t[l]=n=!0}}if(n){ml.forEach(((l,e)=>{2==b?e>0&&t.y&&(l._paths=null):t[l.scale]&&(l._paths=null)}));for(let l in t)wt=!0,Ci("setScale",l);ce&&re.left>=0&&(bt=kt=!0)}for(let l in Zl)Zl[l]=null}(),gt=!1),wt&&(function(){let l=!1,e=0;for(;!l;){e++;let t=Pn(e),n=An(e);l=e==St||t&&n,l||(Mt(g.width,g.height),xt=!0)}}(),wt=!1),xt){if(Cl(J,dl,qe),Cl(J,cl,Ke),Cl(J,al,Oe),Cl(J,fl,Ne),Cl(Q,dl,qe),Cl(Q,cl,Ke),Cl(Q,al,Oe),Cl(Q,fl,Ne),Cl(V,al,Ie),Cl(V,fl,Le),O.width=v(Ie*p),O.height=v(Le*p),yl.forEach((({_el:l,_show:e,_size:t,_pos:n,side:i})=>{if(null!=l)if(e){let e=i%2==1;Cl(l,e?"left":"top",n-(3===i||0===i?t:0)),Cl(l,e?"width":"height",t),Cl(l,e?"top":"left",e?Ke:qe),Cl(l,e?"height":"width",e?Ne:Oe),Yl(l,Tl)}else Rl(l,Tl)})),on=sn=rn=an=fn=cn=hn=dn=un=null,pn=1,bi(!0),qe!=Xe||Ke!=Ze||Oe!=Qe||Ne!=it){Wn(!1);let l=Oe/Qe,e=Ne/it;if(ce&&!bt&&re.left>=0){re.left*=l,re.top*=e,Cn&&Il(Cn,v(re.left),0,Oe,Ne),Hn&&Il(Hn,0,v(re.top),Oe,Ne);for(let t=0;At.length>t;t++){let n=At[t];null!=n&&(Wt[t]*=l,Rt[t]*=e,Il(n,k(Wt[t]),k(Rt[t]),Oe,Ne))}}if(ti.show&&!vt&&ti.left>=0&&ti.width>0){ti.left*=l,ti.width*=l,ti.top*=e,ti.height*=e;for(let l in yi)Cl(ni,l,ti[l])}Xe=qe,Ze=Ke,Qe=Oe,it=Ne}Ci("setSize"),xt=!1}Ie>0&&Le>0&&(j.clearRect(0,0,O.width,O.height),Ci("drawClear"),Nl.forEach((l=>l())),Ci("draw")),ti.show&&vt&&(ii(ti),vt=!1),ce&&bt&&(wi(null,!0,!1),bt=!1),se.show&&se.live&&kt&&(gi(),kt=!1),C||(C=!0,g.status=1,Ci("ready")),gn=!1,Bn=!1}function Xn(e,t){let n=zl[e];if(null==n.from){if(0==ln){let l=n.range(g,t.min,t.max,e);t.min=l[0],t.max=l[1]}if(t.min>t.max){let l=t.min;t.min=t.max,t.max=l}if(ln>1&&null!=t.min&&null!=t.max&&1e-16>t.max-t.min)return;e==Gl&&2==n.distr&&ln>0&&(t.min=l(t.min,f[0]),t.max=l(t.max,f[0]),t.min==t.max&&t.max++),Zl[e]=t,gt=!0,qn()}}g.batch=function(l,e=!1){Bn=!0,Un=e,l(g),Kn(),e&&$n.length>0&&queueMicrotask(Jn)},g.redraw=(l,e)=>{wt=e||!1,!1!==l?oi(Gl,Jl.min,Jl.max):qn()},g.setScale=Xn;let Zn=!1;const Qn=re.drag;let li=Qn.x,ei=Qn.y;ce&&(re.x&&(Rn=Fl("u-cursor-x",Q)),re.y&&(Yn=Fl("u-cursor-y",Q)),0==Jl.ori?(Cn=Rn,Hn=Yn):(Cn=Yn,Hn=Rn),jn=re.left,Vn=re.top);const ti=g.select=sl({show:!0,over:!0,left:0,width:0,top:0,height:0},e.select),ni=ti.show?Fl("u-select",ti.over?Q:J):null;function ii(l,e){if(ti.show){for(let e in l)ti[e]=l[e],e in yi&&Cl(ni,e,l[e]);!1!==e&&Ci("setSelect")}}function oi(l,e,t){Xn(l,{min:e,max:t})}function si(l,e,t,n){null!=e.focus&&function(l){if(l!=ai){let e=null==l,t=1!=zt.alpha;ml.forEach(((n,i)=>{if(1==b||i>0){let o=e||0==i||i==l;n._focus=e?null:o,t&&function(l,e){ml[l].alpha=e,ce&&null!=At[l]&&(At[l].style.opacity=e),fe&&xe[l]&&(xe[l].style.opacity=e)}(i,o?1:zt.alpha)}})),ai=l,t&&qn()}}(l),null!=e.show&&ml.forEach(((t,n)=>{0>=n||l!=n&&null!=l||(t.show=e.show,function(l){if(ml[l].show)fe&&Yl(xe[l],Tl);else if(fe&&Rl(xe[l],Tl),ce){let e=Pt?At[0]:At[l];null!=e&&Il(e,-10,-10,Oe,Ne)}}(n),2==b?(oi(t.facets[0].scale,null,null),oi(t.facets[1].scale,null,null)):oi(t.scale,null,null),qn())})),!1!==t&&Ci("setSeries",l,e),n&&Li("setSeries",g,l,e)}let ri,ui,ai;g.setSelect=ii,g.setSeries=si,g.addBand=function(l,e){l.fill=Y(l.fill||null),l.dir=d(l.dir,-1),Wl.splice(e=null==e?Wl.length:e,0,l)},g.setBand=function(l,e){sl(Wl[l],e)},g.delBand=function(l){null==l?Wl.length=0:Wl.splice(l,1)};const fi={focus:!0};function ci(l,e,t){let n=zl[e];t&&(l=l/p-(1==n.ori?Ke:qe));let i=Oe;1==n.ori&&(i=Ne,l=i-l),-1==n.dir&&(l=i-l);let o=n._min,s=o+l/i*(n._max-o),r=n.distr;return 3==r?S(10,s):4==r?((l,e=1)=>x.sinh(l)*e)(s,n.asinh):100==r?n.bwd(s):s}function hi(l,e){Cl(ni,dl,ti.left=l),Cl(ni,al,ti.width=e)}function di(l,e){Cl(ni,cl,ti.top=l),Cl(ni,fl,ti.height=e)}fe&&Dt&&Fe(vl,de,(l=>{re._lock||(Tt(l),null!=ai&&si(null,fi,!0,Fi.setSeries))})),g.valToIdx=e=>l(e,f[0]),g.posToIdx=function(e,t){return l(ci(e,Gl,t),f[0],en,tn)},g.posToVal=ci,g.valToPos=(l,e,t)=>0==zl[e].ori?T(l,zl[e],t?dt:Oe,t?ot:0):z(l,zl[e],t?pt:Ne,t?ct:0),g.setCursor=(l,e,t)=>{jn=l.left,Vn=l.top,wi(null,e,t)};let pi=0==Jl.ori?hi:di,mi=1==Jl.ori?hi:di;function gi(l,e){if(null!=l&&(l.idxs?l.idxs.forEach(((l,e)=>{oe[e]=l})):(l=>void 0===l)(l.idx)||oe.fill(l.idx),se.idx=oe[0]),fe&&se.live){for(let l=0;ml.length>l;l++)(l>0||1==b&&!_e)&&xi(l,oe[l]);!function(){if(fe&&se.live)for(let l=2==b?1:0;ml.length>l;l++){if(0==l&&_e)continue;let e=se.values[l],t=0;for(let n in e)we[l][t++].firstChild.nodeValue=e[n]}}()}kt=!1,!1!==e&&Ci("setLegend")}function xi(l,e){let t,n=ml[l],i=0==l&&2==ql?mn:f[l];_e?t=n.values(g,l,e)??be:(t=n.value(g,null==e?null:i[e],l,e),t=null==t?be:{_:t}),se.values[l]=t}function wi(e,t,n){let i;On=jn,Nn=Vn,[jn,Vn]=re.move(g,jn,Vn),re.left=jn,re.top=Vn,ce&&(Cn&&Il(Cn,v(jn),0,Oe,Ne),Hn&&Il(Hn,0,v(Vn),Oe,Ne)),ri=P,ui=null;let o=0==Jl.ori?Oe:Ne,s=1==Jl.ori?Oe:Ne;if(0>jn||0==ln||en>tn){i=re.idx=null;for(let l=0;ml.length>l;l++){let e=At[l];null!=e&&Il(e,-10,-10,Oe,Ne)}Dt&&si(null,fi,!0,null==e&&Fi.setSeries),se.live&&(oe.fill(i),kt=!0)}else{let e,t,n;1==b&&(e=0==Jl.ori?jn:Vn,t=ci(e,Gl),i=re.idx=l(t,f[0],en,tn),n=Kl(f[0][i],Jl,o,0));let r=-10,u=-10,a=0,c=0,h=!0,d="",p="";for(let l=2==b?1:0;ml.length>l;l++){let e=ml[l],m=oe[l],x=null==m?null:1==b?f[l][m]:f[l][1][m],w=re.dataIdx(g,l,i,t),v=null==w?null:1==b?f[l][w]:f[l][1][w];if(kt=kt||v!=x||w!=m,oe[l]=w,l>0&&e.show){let t=null==w?-10:w==i?n:Kl(1==b?f[0][w]:f[l][0][w],Jl,o,0),m=null==v?-10:Xl(v,1==b?zl[e.scale]:zl[e.facets[1].scale],s,0);if(Dt&&null!=v){let t=1==Jl.ori?jn:Vn,n=_(zt.dist(g,l,w,m,t));if(ri>n){let i=zt.bias;if(0!=i){let o=ci(t,e.scale),s=0>o?-1:1;s!=(0>v?-1:1)||(1==s?1==i?o>v:v>o:1==i?v>o:o>v)||(ri=n,ui=l)}else ri=n,ui=l}}if(kt||Pt){let e,n;0==Jl.ori?(e=t,n=m):(e=m,n=t);let i,o,s,f,x,w,_=!0,b=Et.bbox;if(null!=b){_=!1;let e=b(g,l);s=e.left,f=e.top,i=e.width,o=e.height}else s=e,f=n,i=o=Et.size(g,l);if(w=Et.fill(g,l),x=Et.stroke(g,l),Pt)l!=ui||ri>zt.prox||(r=s,u=f,a=i,c=o,h=_,d=w,p=x);else{let e=At[l];null!=e&&(Wt[l]=s,Rt[l]=f,jl(e,i,o,_),Ol(e,w,x),Il(e,k(s),k(f),Oe,Ne))}}}}if(Pt){let l=zt.prox;if(kt||(null==ai?l>=ri:ri>l||ui!=ai)){let l=At[0];null!=l&&(Wt[0]=r,Rt[0]=u,jl(l,a,c,h),Ol(l,d,p),Il(l,k(r),k(u),Oe,Ne))}}}if(ti.show&&Zn)if(null!=e){let[l,t]=Fi.scales,[n,i]=Fi.match,[r,u]=e.cursor.sync.scales,a=e.cursor.drag;if(li=a._x,ei=a._y,li||ei){let a,f,c,h,d,{left:p,top:m,width:g,height:x}=e.select,w=e.scales[r].ori,b=e.posToVal,v=null!=l&&n(l,r),k=null!=t&&i(t,u);v&&li?(0==w?(a=p,f=g):(a=m,f=x),c=zl[l],h=Kl(b(a,r),c,o,0),d=Kl(b(a+f,r),c,o,0),pi(y(h,d),_(d-h))):pi(0,o),k&&ei?(1==w?(a=p,f=g):(a=m,f=x),c=zl[t],h=Xl(b(a,u),c,s,0),d=Xl(b(a+f,u),c,s,0),mi(y(h,d),_(d-h))):mi(0,s)}else Mi()}else{let l=_(On-Fn),e=_(Nn-Gn);if(1==Jl.ori){let t=l;l=e,e=t}li=Qn.x&&l>=Qn.dist,ei=Qn.y&&e>=Qn.dist;let t,n,i=Qn.uni;null!=i?li&&ei&&(li=l>=i,ei=e>=i,li||ei||(e>l?ei=!0:li=!0)):Qn.x&&Qn.y&&(li||ei)&&(li=ei=!0),li&&(0==Jl.ori?(t=In,n=jn):(t=Ln,n=Vn),pi(y(t,n),_(n-t)),ei||mi(0,s)),ei&&(1==Jl.ori?(t=In,n=jn):(t=Ln,n=Vn),mi(y(t,n),_(n-t)),li||pi(0,o)),li||ei||(pi(0,0),mi(0,0))}if(Qn._x=li,Qn._y=ei,null==e){if(n){if(null!=Gi){let[l,e]=Fi.scales;Fi.values[0]=null!=l?ci(0==Jl.ori?jn:Vn,l):null,Fi.values[1]=null!=e?ci(1==Jl.ori?jn:Vn,e):null}Li(xl,g,jn,Vn,Oe,Ne,i)}if(Dt){let l=n&&Fi.setSeries,e=zt.prox;null==ai?ri>e||si(ui,fi,!0,l):ri>e?si(null,fi,!0,l):ui!=ai&&si(ui,fi,!0,l)}}kt&&(se.idx=i,gi()),!1!==t&&Ci("setCursor")}g.setLegend=gi;let _i=null;function bi(l=!1){l?_i=null:(_i=Q.getBoundingClientRect(),Ci("syncRect",_i))}function vi(l,e,t,n,i,o){re._lock||Zn&&null!=l&&0==l.movementX&&0==l.movementY||(ki(l,e,t,n,i,o,0,!1,null!=l),null!=l?wi(null,!0,!0):wi(e,!0,!1))}function ki(l,e,t,n,i,o,s,r,u){if(null==_i&&bi(!1),Tt(l),null!=l)t=l.clientX-_i.left,n=l.clientY-_i.top;else{if(0>t||0>n)return jn=-10,void(Vn=-10);let[l,s]=Fi.scales,r=e.cursor.sync,[u,a]=r.values,[f,c]=r.scales,[h,d]=Fi.match,p=e.axes[0].side%2==1,m=0==Jl.ori?Oe:Ne,g=1==Jl.ori?Oe:Ne,x=p?o:i,w=p?i:o,_=p?n:t,b=p?t:n;if(t=null!=f?h(l,f)?A(u,zl[l],m,0):-10:m*(_/x),n=null!=c?d(s,c)?A(a,zl[s],g,0):-10:g*(b/w),1==Jl.ori){let l=t;t=n,n=l}}!u||null!=e&&e.cursor.event.type!=xl||(t>1&&Oe-1>t||(t=N(t,Oe)),n>1&&Ne-1>n||(n=N(n,Ne))),r?(Fn=t,Gn=n,[In,Ln]=re.move(g,t,n)):(jn=t,Vn=n)}Object.defineProperty(g,"rect",{get:()=>(null==_i&&bi(!1),_i)});const yi={width:0,height:0,left:0,top:0};function Mi(){ii(yi,!1)}let Si,Ti,Ei,zi;function Di(l,e,t,n,i,o){Zn=!0,li=ei=Qn._x=Qn._y=!1,ki(l,e,t,n,i,o,0,!0,!1),null!=l&&(Fe(_l,Dl,Pi,!1),Li(wl,g,In,Ln,Oe,Ne,null));let{left:s,top:r,width:u,height:a}=ti;Si=s,Ti=r,Ei=u,zi=a}function Pi(l,e,t,n,i,o){Zn=Qn._x=Qn._y=!1,ki(l,e,t,n,i,o,0,!1,!0);let{left:s,top:r,width:u,height:a}=ti,f=u>0||a>0,c=Si!=s||Ti!=r||Ei!=u||zi!=a;if(f&&c&&ii(ti),Qn.setScale&&f&&c){let l=s,e=u,t=r,n=a;if(1==Jl.ori&&(l=r,e=a,t=s,n=u),li&&oi(Gl,ci(l,Gl),ci(l+e,Gl)),ei)for(let l in zl){let e=zl[l];l!=Gl&&null==e.from&&e.min!=P&&oi(l,ci(t+n,l),ci(t,l))}Mi()}else re.lock&&(re._lock=!re._lock,wi(e,!0,null!=l));null!=l&&(Ge(_l,Dl),Li(_l,g,jn,Vn,Oe,Ne,null))}function Ai(l){re._lock||(Tt(l),wn(),Mi(),null!=l&&Li(kl,g,jn,Vn,Oe,Ne,null))}function Wi(){m()}Ul(Ml,Pl,Wi);const Ri={};Ri.mousedown=Di,Ri.mousemove=vi,Ri.mouseup=Pi,Ri.dblclick=Ai,Ri.setSeries=(l,e,t,n)=>{-1!=(t=(0,Fi.match[2])(g,e,t))&&si(t,n,!0,!1)},ce&&(Fe(wl,Q,Di),Fe(xl,Q,vi),Fe(bl,Q,(l=>{Tt(l),bi(!1)})),Fe(vl,Q,(function(l){if(re._lock)return;Tt(l);let e=Zn;if(Zn){let l,e,t=!0,n=!0,i=10;0==Jl.ori?(l=li,e=ei):(l=ei,e=li),l&&e&&(t=i>=jn||jn>=Oe-i,n=i>=Vn||Vn>=Ne-i),l&&t&&(jn=In>jn?0:Oe),e&&n&&(Vn=Ln>Vn?0:Ne),wi(null,!0,!0),Zn=!1}jn=-10,Vn=-10,oe.fill(null),wi(null,!0,!0),e&&(Zn=e)})),Fe(kl,Q,Ai),Gt.add(g),g.syncRect=bi);const Yi=g.hooks=e.hooks||{};function Ci(l,e,t){Un?$n.push([l,e,t]):l in Yi&&Yi[l].forEach((l=>{l.call(null,g,e,t)}))}(e.plugins||[]).forEach((l=>{for(let e in l.hooks)Yi[e]=(Yi[e]||[]).concat(l.hooks[e])}));const Hi=(l,e,t)=>t,Fi=sl({key:null,setSeries:!1,filters:{pub:G,sub:G},scales:[Gl,ml[1]?ml[1].scale:null],match:[I,I,Hi],values:[null,null]},re.sync);2==Fi.match.length&&Fi.match.push(Hi),re.sync=Fi;const Gi=Fi.key,Ii=ht(Gi);function Li(l,e,t,n,i,o,s){Fi.filters.pub(l,e,t,n,i,o,s)&&Ii.pub(l,e,t,n,i,o,s)}function Oi(){Ci("init",e,f),xn(f||e.data,!1),Zl[Gl]?Xn(Gl,Zl[Gl]):wn(),vt=ti.show&&(ti.width>0||ti.height>0),bt=kt=!0,yt(e.width,e.height)}return Ii.sub(g),g.pub=function(l,e,t,n,i,o,s){Fi.filters.sub(l,e,t,n,i,o,s)&&Ri[l](null,e,t,n,i,o,s)},g.destroy=function(){Ii.unsub(g),Gt.delete(g),Ce.clear(),$l(Ml,Pl,Wi),L.remove(),de?.remove(),Ci("destroy")},ml.forEach(Ct),yl.forEach((function(l,e){if(l._show=l.show,l.show){let t=zl[l.scale];null==t&&(l.scale=l.side%2?ml[1].scale:Gl,t=zl[l.scale]);let n=t.time;l.size=Y(l.size),l.space=Y(l.space),l.rotate=Y(l.rotate),Z(l.incrs)&&l.incrs.forEach((l=>{!U.has(l)&&U.set(l,$(l))})),l.incrs=Y(l.incrs||(2==t.distr?ue:n?1==rl?ve:Me:ae)),l.splits=Y(l.splits||(n&&1==t.distr?ee:3==t.distr?$e:4==t.distr?Je:Ue)),l.stroke=Y(l.stroke),l.grid.stroke=Y(l.grid.stroke),l.ticks.stroke=Y(l.ticks.stroke),l.border.stroke=Y(l.border.stroke);let i=l.values;l.values=Z(i)&&!Z(i[0])?Y(i):n?Z(i)?ze(Ql,Ee(i,le)):ll(i)?function(l,e){let t=te(e);return(e,n)=>n.map((e=>t(l(e))))}(Ql,i):i||ne:i||Be,l.filter=Y(l.filter||(3>t.distr||10!=t.log?3==t.distr&&2==t.log?et:H:lt)),l.font=Zt(l.font,p),l.labelFont=Zt(l.labelFont,p),l._size=l.size(g,null,e,0),l._space=l._rotate=l._incrs=l._found=l._splits=l._values=null,l._size>0&&(Ht[e]=!0,l._el=Fl("u-axis",V))}})),c?c instanceof HTMLElement?(c.appendChild(L),Oi()):c(g,Oi):Oi(),g}Qt.assign=sl,Qt.fmtNum=g,Qt.rangeNum=h,Qt.rangeLog=s,Qt.rangeAsinh=r,Qt.orient=dt,Qt.pxRatio=Al,Qt.join=function(l,e){if(function(l){let e=l[0][0],t=e.length;for(let n=1;l.length>n;n++){let i=l[n][0];if(i.length!=t)return!1;if(i!=e)for(let l=0;t>l;l++)if(i[l]!=e[l])return!1}return!0}(l)){let e=l[0].slice();for(let t=1;l.length>t;t++)e.push(...l[t].slice(1));return function(l,e=100){const t=l.length;if(1>=t)return!0;let n=0,i=t-1;for(;i>=n&&null==l[n];)n++;for(;i>=n&&null==l[i];)i--;if(n>=i)return!0;const o=M(1,b((i-n+1)/e));for(let e=l[n],t=n+o;i>=t;t+=o){const n=l[t];if(null!=n){if(e>=n)return!1;e=n}}return!0}(e[0])||(e=function(l){let e=l[0],t=e.length,n=Array(t);for(let l=0;n.length>l;l++)n[l]=l;n.sort(((l,t)=>e[l]-e[t]));let i=[];for(let e=0;l.length>e;e++){let o=l[e],s=Array(t);for(let l=0;t>l;l++)s[l]=o[n[l]];i.push(s)}return i}(e)),e}let t=new Set;for(let e=0;l.length>e;e++){let n=l[e][0],i=n.length;for(let l=0;i>l;l++)t.add(n[l])}let n=[Array.from(t).sort(((l,e)=>l-e))],i=n[0].length,o=new Map;for(let l=0;i>l;l++)o.set(n[0][l],l);for(let t=0;l.length>t;t++){let s=l[t],r=s[0];for(let l=1;s.length>l;l++){let u=s[l],a=Array(i).fill(void 0),f=e?e[t][l]:1,c=[];for(let l=0;u.length>l;l++){let e=u[l],t=o.get(r[l]);null===e?0!=f&&(a[t]=e,2==f&&c.push(t)):a[t]=e}rl(a,c,i),n.push(a)}}return n},Qt.fmtDate=te,Qt.tzDate=function(l,e){let t;return"UTC"==e||"Etc/UTC"==e?t=new Date(+l+6e4*l.getTimezoneOffset()):e==ne?t=l:(t=new Date(l.toLocaleString("en-US",{timeZone:e})),t.setMilliseconds(l.getMilliseconds())),t},Qt.sync=ht;{Qt.addGap=function(l,e,t){let n=l[l.length-1];n&&n[0]==e?n[1]=t:l.push([e,t])},Qt.clipGaps=xt;let l=Qt.paths={points:At};l.linear=Ct,l.stepped=function(l){const e=d(l.align,1),t=d(l.ascDesc,!1),n=d(l.alignGaps,0),o=d(l.extend,!1);return(l,s,r,u)=>{let{pxRatio:a}=l;return dt(l,s,((f,c,h,d,p,m,g,x,w,_,b)=>{[r,u]=i(h,r,u);let v=f.pxRound,{left:k,width:y}=l.bbox,M=l=>v(m(l,d,_,x)),S=l=>v(g(l,p,b,w)),T=0==d.ori?yt:Mt;const E={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:1},z=E.stroke,D=d.dir*(0==d.ori?1:-1);let P=S(h[1==D?r:u]),A=M(c[1==D?r:u]),W=A,R=A;o&&-1==e&&(R=k,T(z,R,P)),T(z,A,P);for(let l=1==D?r:u;l>=r&&u>=l;l+=D){let t=h[l];if(null==t)continue;let n=M(c[l]),i=S(t);1==e?T(z,n,P):T(z,W,i),T(z,n,i),P=i,W=n}let Y=W;o&&1==e&&(Y=k+y,T(z,Y,P));let[C,H]=pt(l,s);if(null!=f.fill||0!=C){let e=E.fill=new Path2D(z),t=S(f.fillTo(l,s,f.min,f.max,C));T(e,Y,t),T(e,R,t)}if(!f.spanGaps){let i=[];i.push(...wt(c,h,r,u,D,M,n));let o=f.width*a/2,p=t||1==e?o:-o,m=t||-1==e?-o:o;i.forEach((l=>{l[0]+=p,l[1]+=m})),E.gaps=i=f.gaps(l,s,r,u,i),E.clip=xt(i,d.ori,x,w,_,b)}return 0!=H&&(E.band=2==H?[gt(l,s,r,u,z,-1),gt(l,s,r,u,z,1)]:gt(l,s,r,u,z,H)),E}))}},l.bars=function(l){const e=d((l=l||q).size,[.6,P,1]),t=l.align||0,n=l.gap||0;let i=l.radius;i=null==i?[0,0]:"number"==typeof i?[i,0]:i;const o=Y(i),s=1-e[0],r=d(e[1],P),u=d(e[2],1),a=d(l.disp,q),f=d(l.each,(()=>{})),{fill:c,stroke:h}=a;return(l,e,i,p)=>{let{pxRatio:m}=l;return dt(l,e,((g,x,w,_,v,k,S,T,E,z,D)=>{let P,A,R=g.pxRound,Y=t,H=n*m,F=r*m,G=u*m;0==_.ori?[P,A]=o(l,e):[A,P]=o(l,e);const I=_.dir*(0==_.ori?1:-1);let L,O,N,j=0==_.ori?St:Tt,V=0==_.ori?f:(l,e,t,n,i,o,s)=>{f(l,e,t,i,n,s,o)},B=d(l.bands,K).find((l=>l.series[0]==e)),U=g.fillTo(l,e,g.min,g.max,null!=B?B.dir:0),$=R(S(U,v,D,E)),J=z,q=R(g.width*m),X=!1,Z=null,Q=null,ll=null,el=null;null==c||0!=q&&null==h||(X=!0,Z=c.values(l,e,i,p),Q=new Map,new Set(Z).forEach((l=>{null!=l&&Q.set(l,new Path2D)})),q>0&&(ll=h.values(l,e,i,p),el=new Map,new Set(ll).forEach((l=>{null!=l&&el.set(l,new Path2D)}))));let{x0:tl,size:nl}=a;if(null!=tl&&null!=nl){Y=1,x=tl.values(l,e,i,p),2==tl.unit&&(x=x.map((e=>l.posToVal(T+e*z,_.key,!0))));let t=nl.values(l,e,i,p);O=2==nl.unit?t[0]*z:k(t[0],_,z,T)-k(0,_,z,T),J=Ht(x,w,k,_,z,T,J),N=J-O+H}else J=Ht(x,w,k,_,z,T,J),N=J*s+H,O=J-N;1>N&&(N=0),O/2>q||(q=0),5>N&&(R=C);let il=N>0;O=R(W(J-N-(il?q:0),G,F)),L=(0==Y?O/2:Y==I?0:O)-Y*I*((0==Y?H/2:0)+(il?q/2:0));const ol={stroke:null,fill:null,clip:null,band:null,gaps:null,flags:0},sl=X?null:new Path2D;let rl=null;if(null!=B)rl=l.data[B.series[1]];else{let{y0:t,y1:n}=a;null!=t&&null!=n&&(w=n.values(l,e,i,p),rl=t.values(l,e,i,p))}let ul=P*O,al=A*O;for(let t=1==I?i:p;t>=i&&p>=t;t+=I){let n=w[t];if(null==n)continue;if(null!=rl){let l=rl[t]??0;if(n-l==0)continue;$=S(l,v,D,E)}let i=k(2!=_.distr||null!=a?x[t]:t,_,z,T),o=S(d(n,U),v,D,E),s=R(i-L),r=R(M(o,$)),u=R(y(o,$)),f=r-u;if(null!=n){let i=0>n?al:ul,o=0>n?ul:al;X?(q>0&&null!=ll[t]&&j(el.get(ll[t]),s,u+b(q/2),O,M(0,f-q),i,o),null!=Z[t]&&j(Q.get(Z[t]),s,u+b(q/2),O,M(0,f-q),i,o)):j(sl,s,u+b(q/2),O,M(0,f-q),i,o),V(l,e,t,s-q/2,u,O+q,f)}}return q>0?ol.stroke=X?el:sl:X||(ol._fill=0==g.width?g._fill:g._stroke??g._fill,ol.width=0),ol.fill=X?Q:sl,ol}))}},l.spline=function(l){return function(l,e){const t=d(e?.alignGaps,0);return(e,n,o,s)=>dt(e,n,((r,u,a,f,c,h,d,p,m,g,x)=>{[o,s]=i(a,o,s);let w,_,b,v=r.pxRound,k=l=>v(h(l,f,g,p)),y=l=>v(d(l,c,x,m));0==f.ori?(w=vt,b=yt,_=Dt):(w=kt,b=Mt,_=Pt);const M=f.dir*(0==f.ori?1:-1);let S=k(u[1==M?o:s]),T=S,E=[],z=[];for(let l=1==M?o:s;l>=o&&s>=l;l+=M)if(null!=a[l]){let e=k(u[l]);E.push(T=e),z.push(y(a[l]))}const D={stroke:l(E,z,w,b,_,v),fill:null,clip:null,band:null,gaps:null,flags:1},P=D.stroke;let[A,W]=pt(e,n);if(null!=r.fill||0!=A){let l=D.fill=new Path2D(P),t=y(r.fillTo(e,n,r.min,r.max,A));b(l,T,t),b(l,S,t)}if(!r.spanGaps){let l=[];l.push(...wt(u,a,o,s,M,k,t)),D.gaps=l=r.gaps(e,n,o,s,l),D.clip=xt(l,f.ori,p,m,g,x)}return 0!=W&&(D.band=2==W?[gt(e,n,o,s,P,-1),gt(e,n,o,s,P,1)]:gt(e,n,o,s,P,W)),D}))}(Ft,l)}}return Qt}();
